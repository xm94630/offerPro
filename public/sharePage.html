<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
  <title node-type="title">分享</title>
  <link rel="stylesheet" type="text/css" href="" node-type="css">
</head>
<body>
  <img style="width: 0px;height: 0px;position: absolute;z-index: -999;" 
    src="data:image/png;base64,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" width="100%">

        <div class="page OfferEdit">
          <div class="picBox">
            <img node-type="pic1" src={offer} class="hidePic"/>
            <img node-type="pic2" src={pic} width="100%"/>
            <span node-type="reName" class="studentName2">{this.state.reName}</span>
          </div>
          <div class="canvasBox">
            <canvas id="myCanvas" width="100" height="100"></canvas>
          </div>  
          <div class="checkInfoBox2 MT15">
          <span node-type="myInfo">获得 {this.state.school} - {this.state.major} 录取offer！</span>
          </div>
          <div type="text" class="myInput submitBtn W80P MT10" onClick={this.shareFun} node-type="alertBox" >分享喜悦</div>
          
          <div class="adImgBox" >
            <a node-type="goForm" href="/#/OfferForm" class='myHide'>
              <img node-type="pic3" src={ad} width="100%"/>
            </a>
            <a node-type="goIndex" href="/#/" class='myHide'>
              <img node-type="pic4" src={ad} width="100%"/>
            </a>
          </div>

          <div class="shareBox myHide"><div class="mask"></div><img src="/static/media/shareImg2.3e9f0646.png"></div>
        
        </div>

</body>
<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script>

    //资源更新
    //这里一定要注意的是：
    //在本地项目中的时候，要把这个 baseUrl 修改正确（其实就是把资源这部分的用单独服务起来）
    //因为我们这里添加的页面和原来的单页面的资源引用有很大的差别呢。
    //在build之前一定要把资源处理正确呢~
    
    //var baseUrl = 'http://192.168.1.100:9000';
    var baseUrl = '';
    $('[node-type="pic1"]').attr('src', baseUrl+'/static/media/pic1.58566359.png');
    $('[node-type="pic2"]').attr('src', baseUrl+'/static/media/fontPic2.358f9fc3.png');
    $('[node-type="pic3"]').attr('src', baseUrl+'/static/media/ad.276cdccb.png');
    $('[node-type="pic4"]').attr('src', baseUrl+'/static/media/goIndex.238f1541.png');
    $('[node-type="css"]').attr('href', baseUrl+'/static/css/main.fcce6671.css')

    function getParameterByName(name, url) {
        if (!url) {
          url = window.location.href;
        }
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, " "));
    }
    var offerId = getParameterByName('offerId',window.location.href);
    var l = function(){
      return console.log.apply(console,arguments)
    }

    //事件
    $('[node-type="alertBox"]').on('click',function(){
      $('.shareBox').show();
    });
    $('.shareBox').on('click',function(){
      $('.shareBox').toggle();
    });


    //offer详情
    $.ajax({
        type: "GET",
        url: "http://os2017.51qiantu.com/offer/detail/"+offerId,
        dataType:"json",
        success: function(data){
          var data = data.ret;
          var imgNew = data.imgNew;
          var reName = data.reName;
          var school = data.school;
          var major = data.major;
          render(reName,imgNew,school,major);

          document.getElementsByTagName('title')[0].innerHTML = '【录取喜报】恭喜 '+reName+' 同学获得 '+school+' 录取OFFER！';

        }
    });

    function render(name,img,school,major){

      $('[node-type="reName"]').html(name);
      $('[node-type="myInfo"]').html('获得 '+school+' - '+major+' 录取offer！');

      console.log(localStorage.getItem('who'))
      if(localStorage.getItem('who')==='my'){
          //是为自己跳转过来的
          $('[node-type="goIndex"]').show();
          $('[node-type="goForm"]').hide();
          //清除
          localStorage.clear();
      }else{
          //是分享过来的
          $('[node-type="goIndex"]').hide();
          $('[node-type="goForm"]').show();
      }

      //canvas读取读片
      var ctx = document.getElementById('myCanvas').getContext("2d");
      //图片放大比例因子（这个参数会直接影响，canvas中图片的质量）
      var scaleImage = 4;
      var w = $(window).width()
      $('#myCanvas').attr("width",scaleImage*w).attr("height",scaleImage*w)
      var image = new Image();         
      image.src = 'http://os2017.51qiantu.com/'+img;  
      image.onload = function() {  
        ctx.drawImage(image, 0, 0,scaleImage * w,scaleImage * w);
      } 
    }
</script>

</html>